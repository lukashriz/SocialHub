<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SocialHub | Lukáš Hriž</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#e0f2e9',
              100: '#c8e6d9',
              200: '#a8d8b9',
              300: '#8ac9a0',
              400: '#6ab097',
              500: '#4a9985',
              600: '#3a7d6a',
            }
          },
          borderRadius: {
            '4xl': '2rem'
          }
        }
      }
    }
  </script>

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #f9fbfa 0%, #edf6f2 100%);
      color: #1f2937;
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(209, 213, 219, 0.6);
      box-shadow: 0 8px 24px -8px rgba(0, 0, 0, 0.06);
      border-radius: 1.75rem;
      padding: 1.5rem;
    }

    .post-card {
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border-radius: 1.5rem;
      overflow: hidden;
    }

    .post-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 30px -10px rgba(74, 153, 133, 0.2);
    }

    .btn-primary {
      background: linear-gradient(135deg, #4a9985, #3a7d6a);
      color: white;
      border-radius: 1rem;
      padding: 0.6rem 1.25rem;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(74, 153, 133, 0.3);
      transition: all 0.25s ease;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(74, 153, 133, 0.4);
    }

    .avatar {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      background: linear-gradient(135deg, #4a9985, #3a7d6a);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      flex-shrink: 0;
    }

    .like-btn.liked {
      color: #ef4444;
    }

    .comment-input {
      transition: all 0.3s ease;
    }

    .fade-in {
      animation: fadeIn 0.4s ease forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="min-h-screen py-8">

  <div class="max-w-2xl mx-auto px-4">
    <!-- Header -->
    <header class="text-center mb-10">
      <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 text-white mb-4 shadow-lg">
        <i class="fas fa-hashtag"></i>
      </div>
      <h1 class="text-3xl font-bold text-gray-800 mb-1">SocialHub</h1>
      <p class="text-gray-600">by Lukáš Hriž</p>
    </header>

    <!-- Create Post -->
    <main class="glass-card mb-8">
      <div class="flex gap-4 mb-4">
        <div class="avatar">LH</div>
        <textarea
          id="post-content"
          placeholder="What's on your mind?"
          rows="3"
          class="w-full p-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-primary-400 focus:border-transparent outline-none resize-none"
        ></textarea>
      </div>
      <div class="flex justify-end">
        <button id="post-btn" class="btn-primary px-6 py-2">
          Post
        </button>
      </div>
    </main>

    <!-- Posts Feed -->
    <div id="posts-container" class="space-y-6"></div>

    <!-- GitHub Footer -->
    <footer class="mt-12 text-center">
      <a
        href="https://github.com/lukashriz/social-hub"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-2 px-6 py-3 bg-gray-50 hover:bg-gray-100 text-gray-700 font-semibold rounded-xl border border-gray-200 shadow-sm transition-all hover:shadow-md"
      >
        <i class="fab fa-github text-lg"></i>
        View Source Code on GitHub
      </a>
      <p class="mt-4 text-gray-500 text-sm">Built with Vanilla JS + Tailwind CSS</p>
    </footer>
  </div>

  <script>
    // === Utility Functions ===
    function getInitials(name) {
      return name.split(' ').map(n => n[0]).join('').toUpperCase();
    }

    function timeAgo(timestamp) {
      const now = new Date();
      const postTime = new Date(timestamp);
      const diffMs = now - postTime;
      const diffMins = Math.floor(diffMs / 60000);
      const diffHours = Math.floor(diffMins / 60);
      const diffDays = Math.floor(diffHours / 24);

      if (diffMins < 1) return 'Just now';
      if (diffMins < 60) return `${diffMins}m ago`;
      if (diffHours < 24) return `${diffHours}h ago`;
      return `${diffDays}d ago`;
    }

    // === Data Layer ===
    function loadPosts() {
      const saved = localStorage.getItem('socialhub_posts');
      return saved ? JSON.parse(saved) : [
        {
          id: 1,
          author: 'Lukáš Hriž',
          username: '@lukashriz',
          content: 'Just deployed my new portfolio website! Built with HTML, CSS, Tailwind, and vanilla JavaScript. Check it out!',
          timestamp: Date.now() - 7200000,
          likes: 24,
          comments: 5,
          liked: false,
          avatar: 'LH'
        },
        {
          id: 2,
          author: 'Alex Morgan',
          username: '@alexmorgan',
          content: 'Working on a new React project today. Can\'t wait to share it with everyone!',
          timestamp: Date.now() - 14400000,
          likes: 18,
          comments: 3,
          liked: true,
          avatar: 'AM'
        },
        {
          id: 3,
          author: 'Sarah Johnson',
          username: '@sarahjdev',
          content: 'Just learned about Tailwind CSS. It\'s amazing how fast you can build responsive designs!',
          timestamp: Date.now() - 21600000,
          likes: 32,
          comments: 8,
          liked: false,
          avatar: 'SJ'
        }
      ];
    }

    function savePosts(posts) {
      localStorage.setItem('socialhub_posts', JSON.stringify(posts));
    }

    // === UI Rendering ===
    function renderPosts() {
      const posts = loadPosts();
      const container = document.getElementById('posts-container');
      container.innerHTML = '';

      posts.forEach(post => {
        const postEl = document.createElement('div');
        postEl.className = 'post-card bg-white p-6 border border-emerald-100 fade-in';
        postEl.innerHTML = `
          <div class="flex gap-4 mb-4">
            <div class="avatar">${post.avatar}</div>
            <div class="flex-1">
              <div class="flex items-center gap-2 mb-1">
                <h3 class="font-bold text-gray-800">${post.author}</h3>
                <span class="text-gray-600 text-sm">${post.username}</span>
              </div>
              <p class="text-sm text-gray-500">${timeAgo(post.timestamp)}</p>
            </div>
          </div>
          <p class="text-gray-800 mb-4 whitespace-pre-line">${post.content}</p>
          <div class="flex justify-between text-gray-600 mb-4">
            <button class="like-btn flex items-center gap-1 ${post.liked ? 'liked' : ''}" data-id="${post.id}">
              <i class="fas ${post.liked ? 'fa-heart' : 'far fa-heart'}"></i>
              <span>${post.likes}</span>
            </button>
            <button class="comment-btn flex items-center gap-1" data-id="${post.id}">
              <i class="far fa-comment"></i>
              <span>${post.comments}</span>
            </button>
            <button class="flex items-center gap-1">
              <i class="far fa-share-square"></i>
              <span>Share</span>
            </button>
          </div>
          <div class="comment-input hidden pt-4">
            <div class="flex gap-3">
              <div class="avatar">LH</div>
              <input 
                type="text" 
                placeholder="Write a comment..." 
                class="flex-1 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-400 focus:border-transparent"
                data-post-id="${post.id}"
              >
            </div>
          </div>
        `;
        container.appendChild(postEl);
      });

      // Re-attach event listeners
      document.querySelectorAll('.like-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const id = parseInt(e.currentTarget.dataset.id);
          toggleLike(id);
        });
      });

      document.querySelectorAll('.comment-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const id = parseInt(e.currentTarget.dataset.id);
          const input = document.querySelector(`input[data-post-id="${id}"]`).closest('.comment-input');
          input.classList.toggle('hidden');
          if (!input.classList.contains('hidden')) input.querySelector('input').focus();
        });
      });

      document.querySelectorAll('.comment-input input').forEach(input => {
        input.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            const id = parseInt(e.target.dataset.postId);
            addComment(id, e.target.value.trim());
            e.target.value = '';
          }
        });
      });
    }

    // === Actions ===
    function createPost() {
      const content = document.getElementById('post-content').value.trim();
      if (!content) return;

      const posts = loadPosts();
      posts.unshift({
        id: Date.now(),
        author: 'Lukáš Hriž',
        username: '@lukashriz',
        content,
        timestamp: Date.now(),
        likes: 0,
        comments: 0,
        liked: false,
        avatar: 'LH'
      });
      savePosts(posts);
      renderPosts();
      document.getElementById('post-content').value = '';
    }

    function toggleLike(postId) {
      const posts = loadPosts();
      const post = posts.find(p => p.id === postId);
      if (post) {
        post.liked = !post.liked;
        post.likes += post.liked ? 1 : -1;
        savePosts(posts);
        renderPosts();
      }
    }

    function addComment(postId, text) {
      if (!text) return;
      const posts = loadPosts();
      const post = posts.find(p => p.id === postId);
      if (post) {
        post.comments++;
        savePosts(posts);
        renderPosts();
      }
    }

    // === Init ===
    document.addEventListener('DOMContentLoaded', () => {
      renderPosts();

      document.getElementById('post-btn').addEventListener('click', createPost);
      
      document.getElementById('post-content').addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          createPost();
        }
      });
    });
  </script>
</body>
</html>
